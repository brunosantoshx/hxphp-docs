<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>HXPHP Framework - Documentação Oficial</title>

        <meta name="description" content="HXPHP - O seu primeiro framework PHP">
        <meta name="keywords" content="HXPHP, framework PHP, linguagem PHP, curso de framework PHP, framework php para iniciantes">
        <meta name="author" content="Bruno C. Santos">
        <link rel="shortcut icon" href="http://www.hxphp.com.br/assets/img/favicon.jpg">
        <link rel="apple-touch-icon" href="http://www.hxphp.com.br/assets/img/apple-touch-icon.jpg">
        <link rel="apple-touch-icon" sizes="72x72" href="http://www.hxphp.com.br/assets/img/apple-touch-icon-72x72.jpg">
        <link rel="apple-touch-icon" sizes="114x114" href="http://www.hxphp.com.br/assets/img/apple-touch-icon-114x114.jpg">


        <link rel="stylesheet" href="https://hxphp.github.io/docs/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://hxphp.github.io/docs/css/font-awesome.min.css">
        <link rel="stylesheet" href="https://hxphp.github.io/docs/css/highlight.tomorrow-night.css">
        <link rel="stylesheet" href="https://hxphp.github.io/docs/css/main.css">
    </head>
    <body>

        <header class="navbar navbar-default navbar-fixed-top">

            <a class="navbar-brand" href="https://hxphp.github.io/docs/">
                <img src="https://hxphp.github.io/docs/img/hxphp-framework-logo.png">
                <small class="hidden-xs hidden-sm">
                    Documentação Oficial
                </small>
            </a>

            
        </header>

        <main class="container-fluid">
            <div class="row">

                
                    <nav id="sidebar" class="col-sm-3 col-lg-2" role="navigation">

                                                    <p class="text-muted">
                                
                            </p>

                            <ul class="nav nav-pills nav-stacked">
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/index.html">
                                            Informações essenciais
                                        </a>
                                    </li>
                                                                    <li class="active">
                                        <a href="https://hxphp.github.io/docs/3.0/instalacao-e-configuracao.html">
                                            Instalação e configuração
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/pontape-inicial.html">
                                            Pontapé inicial
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/controllers.html">
                                            Controllers
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/models.html">
                                            Models
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/views.html">
                                            Views
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/load.html">
                                            Método load
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/helpers.html">
                                            Helpers
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/http.html">
                                            HTTP
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/storage.html">
                                            Storage
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/modulos.html">
                                            Módulos
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/servicos.html">
                                            Serviços
                                        </a>
                                    </li>
                                                                    <li class="">
                                        <a href="https://hxphp.github.io/docs/3.0/utilitarios.html">
                                            Utilitários
                                        </a>
                                    </li>
                                                            </ul>
                        
                    </nav>

                
                <section class="col-sm-offset-3 col-lg-offset-2 col-sm-9 col-lg-10">
                    <h2 id="instalacao">Instalação</h2>
<p>Você precisa do <a href="https://getcomposer.org/download">Composer</a> para instalar o HXPHP, portanto, antes de prosseguir, certifique-se que o mesmo está instalado em sua máquina. Para isso, abra o terminal (CMD no Windows) e digite o seguinte comando: </p>
<blockquote>
<p><code>composer --version</code></p>
</blockquote>
<p>Após constatar que o <a href="https://getcomposer.org/download">Composer</a> está em pleno funcionamento, navegue até o diretório escolhido para instalação e execute o comando: </p>
<blockquote>
<p><code>composer create-project --prefer-dist hxphp/hxphp hxphp</code></p>
</blockquote>
<p><em>Este comando cria o projeto e instala todas as dependências do framework.</em></p>
<hr />
<h2 id="usando-o-docker">Usando o Docker</h2>
<p>Você precisa tanto do <a href="https://www.docker.com/community-edition">Docker</a> como do <a href="https://docs.docker.com/compose/install/">Docker Compose</a> instalados em sua máquina. </p>
<p>Você pode conferir se ambos estão instalados, executando os seguintes comandos no terminal <strong>(PowerShell, se usar Windows)</strong>:</p>
<blockquote>
<p><code>docker -v</code></p>
<p><code>docker-compose -v</code></p>
</blockquote>
<hr />
<h3 id="credenciais">Credenciais</h3>
<p>As credenciais de conexão com o MySQL estão no arquivo <code>.env</code> no diretório em que o HXPHP foi instalado. </p>
<hr />
<h3 id="levantando-os-containers">Levantando os containers</h3>
<p>Após isto, para usar o Docker siga os seguintes passos:</p>
<ul>
<li>Abra o terminal <strong>(PowerShell, se usar Windows)</strong></li>
<li>Navegue até o diretório do HXPHP. Ex: <code>cd ~/Desktop/hxphp</code></li>
<li>Delete a pasta <code>data</code> <em>(se existir)</em></li>
<li>Execute o seguinte comando:</li>
</ul>
<blockquote>
<p><code>docker-compose up -d</code></p>
</blockquote>
<hr />
<h3 id="servios">Serviços</h3>
<p>Após a conclusão do processo, você poderá utilizar os softwares listados abaixo nos respectivos endereços:</p>
<ul>
<li><strong>HXPHP</strong>: <a href="http://localhost:8000"><a href="http://localhost:8000">http://localhost:8000</a></a></li>
<li><strong>phpMyAdmin</strong>: <a href="http://localhost:8080"><a href="http://localhost:8080">http://localhost:8080</a></a></li>
</ul>
<p>Os dados de acesso ao <strong>phpMyAdmin</strong> estão no arquivo <code>.env</code>. O servidor/host é <code>mysql</code>, por padrão.</p>
<hr />
<h3 id="observaes">Observações</h3>
<ol>
<li>Este processo pode demorar alguns minutos na primeira execução, pois, o Docker irá baixar as imagens necessárias</li>
<li>Para parar os containers use:</li>
</ol>
<blockquote>
<p><code>docker-compose down -v</code></p>
</blockquote>
<ol start="3">
<li>Um diretório <em>(volume)</em> <strong>data</strong> será criado na raiz do projeto e será responsável por armazenar os dados do MySQL <em>(container mysql)</em>. Certifique-se que esta pasta não existe antes de rodar o <code>docker-compose up -d</code>.</li>
</ol>
<hr />
<h2 id="configuracao">Configurando o framework</h2>
<p>Após enviar os arquivos, configure o framework. Todas as configurações devem ser definidas no arquivo:</p>
<p><code>/app/config.php</code></p>
<p>As configurações são divididas em dois grupos:</p>
<ul>
<li>Configurações globais, e;</li>
<li>Configurações de ambiente.</li>
</ul>
<hr />
<h3 id="configuraes-globais">Configurações globais</h3>
<p>As <code>globais</code> tem como objetivo definir parâmetros que, em suma, não necessitam de alteração, pois, consistem em intervenções no funcionamento padrão do framework. Exemplos: Diretório dos controllers, diretório das views e etc.</p>
<hr />
<h3 id="configuraes-de-ambiente">Configurações de Ambiente</h3>
<p>Já as <code>configurações de ambiente</code> são parâmetros que variam de acordo com o <code>ambiente atual</code>. O ambiente além de conter a sua configuração padrão também pode conter módulos.</p>
<hr />
<h4 id="adicionando-um-ambiente">Adicionando um ambiente</h4>
<p>Para adicionar um ambiente: <code>$configs-&gt;env-&gt;add('ambiente');</code>.
Os ambientes padrão são: <code>development</code> e <code>production</code>.</p>
<hr />
<h4 id="criando-um-ambiente">Criando um ambiente</h4>
<p>Para criar um ambiente: </p>
<ul>
<li>Acesse a pasta <code>HXPHP\System\Configs\Environments</code>, e;</li>
<li>Crie um arquivo no padrão <code>EnvironmentNomeDoAmbiente</code>.</li>
</ul>
<p>Conteúdo padrão de um ambiente:</p>
<pre><code class="language-php">  namespace HXPHP\System\Configs\Environments;

  use HXPHP\System\Configs as Configs;

  class EnvironmentNomeDoAmbiente extends Configs\AbstractEnvironment
  {

  }</code></pre>
<p>Por padrão, a única configuração padrão de ambiente é a <code>baseURI</code> que define a <a href="#funcionamento-da-url">BASE DA URL</a>.
Para alterá-la: <code>$configs-&gt;env-&gt;nomedoambiente-&gt;baseURI = '/hxphp/';</code>.</p>
<hr />
<h4 id="mdulos">Módulos</h4>
<p>Os módulos padrão de ambiente são: <code>Database</code> e <code>Mail</code>. Os módulos não são padronizados.</p>
<p>Para criar um módulo é necessário salvá-lo na pasta: <code>/src/HXPHP/System/Configs/Modules/</code> e <b>adicioná-lo na lista de módulos</b> do arquivo <code>/src/HXPHP/System/Configs/RegisterModules.php</code>.</p>
<p>Exemplo demonstrando o registro de um módulo qualquer chamado Youtube (RegisterModules.php):</p>
<pre><code class="language-php">  namespace HXPHP\System\Configs;

  class RegisterModules
  {
    public $modules = [];

    public function __construct()
    {
      //Informe os nomes dos módulos em lowercase
      $this-&gt;modules = array(
        'database',
        'mail',
        'youtube'
      );

      return $this;
    }
  }</code></pre>
<hr />
<h5 id="exemplo-de-configurao">Exemplo de configuração:</h5>
<pre><code class="language-php">
  //Constantes
  $configs = new HXPHP\System\Configs\Config;

  //Globais
  $configs-&gt;global-&gt;models-&gt;directory = APP_PATH . 'models' . DS;

  $configs-&gt;global-&gt;views-&gt;directory = APP_PATH . 'views' . DS;
  $configs-&gt;global-&gt;views-&gt;extension = '.phtml';

  $configs-&gt;global-&gt;controllers-&gt;directory = APP_PATH . 'controllers' . DS;
  $configs-&gt;global-&gt;controllers-&gt;notFound = 'Error404Controller';

  $configs-&gt;title = 'Titulo customizado';

  //Configurações de Ambiente - Desenvolvimento
  $configs-&gt;env-&gt;add('development');

  $configs-&gt;env-&gt;development-&gt;baseURI = '/hxphp/';

  $configs-&gt;env-&gt;development-&gt;database-&gt;setConnectionData(array(
    'driver' =&gt; 'mysql',
    'host' =&gt; 'localhost',
    'user' =&gt; 'root',
    'password' =&gt; '',
    'dbname' =&gt; 'hxphp',
    'charset' =&gt; 'utf8'
  ));

  $configs-&gt;env-&gt;development-&gt;mail-&gt;setFrom(array(
    'from' =&gt; 'Remetente',
    'from_mail' =&gt; 'email@remetente.com.br'
  ));

  //Configurações de Ambiente - Produção
  $configs-&gt;env-&gt;add('production');

  $configs-&gt;env-&gt;production-&gt;baseURI = '/';

  $configs-&gt;env-&gt;production-&gt;database-&gt;setConnectionData(array(
    'driver' =&gt; 'mysql',
    'host' =&gt; 'localhost',
    'user' =&gt; 'usuariodobanco',
    'password' =&gt; 'senhadobanco',
    'dbname' =&gt; 'hxphp',
    'charset' =&gt; 'utf8'
  ));

  $configs-&gt;env-&gt;production-&gt;mail-&gt;setFrom(array(
    'from' =&gt; 'Remetente',
    'from_mail' =&gt; 'email@remetente.com.br'
  ));

  return $configs;</code></pre>
                </section>

            </div>
        </main>

        <script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script src="//yandex.st/highlightjs/7.5/highlight.min.js"></script>

        <script>
            $(function() {
                $("section>h1").wrap('<div class="page-header" />');
                // Syntax highlighting
                hljs.initHighlightingOnLoad();
            });
        </script>

    </body>
</html>
